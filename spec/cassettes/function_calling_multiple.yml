---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/responses
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","input":[{"type":"message","role":"user","content":"What''s
        the weather in Paris and what is 15 * 7?"}],"stream":false,"tools":[{"type":"function","name":"test_weather","description":"Get
        the current weather for a location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"The
        city name"}},"required":["location"],"additionalProperties":false,"strict":true},"strict":true},{"type":"function","name":"test_calculator","description":"Perform
        basic math calculations","parameters":{"type":"object","properties":{"expression":{"type":"string","description":"Math
        expression to evaluate"}},"required":["expression"],"additionalProperties":false,"strict":true},"strict":true}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <OPENAI_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sat, 03 Jan 2026 19:11:00 GMT
      Content-Type:
      - application/json
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "resp_fc_multi_1",
          "object": "response",
          "created_at": 1767467460,
          "status": "completed",
          "model": "gpt-4o-mini-2024-07-18",
          "output": [
            {
              "type": "function_call",
              "call_id": "call_paris_weather",
              "name": "test_weather",
              "arguments": "{\"location\":\"Paris\"}"
            },
            {
              "type": "function_call",
              "call_id": "call_math_15x7",
              "name": "test_calculator",
              "arguments": "{\"expression\":\"15 * 7\"}"
            }
          ],
          "usage": {
            "input_tokens": 50,
            "input_tokens_details": { "cached_tokens": 0 },
            "output_tokens": 30,
            "total_tokens": 80
          }
        }
  recorded_at: Sat, 03 Jan 2026 19:11:00 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/responses
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","input":[{"type":"message","role":"user","content":"What''s
        the weather in Paris and what is 15 * 7?"},{"type":"function_call","call_id":"call_paris_weather","name":"test_weather","arguments":"{\"location\":\"Paris\"}"},{"type":"function_call","call_id":"call_math_15x7","name":"test_calculator","arguments":"{\"expression\":\"15
        * 7\"}"},{"type":"function_call_output","call_id":"call_paris_weather","output":"The
        weather in Paris is sunny, 72°F"},{"type":"function_call_output","call_id":"call_math_15x7","output":"105"}],"stream":false,"tools":[{"type":"function","name":"test_weather","description":"Get
        the current weather for a location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"The
        city name"}},"required":["location"],"additionalProperties":false,"strict":true},"strict":true},{"type":"function","name":"test_calculator","description":"Perform
        basic math calculations","parameters":{"type":"object","properties":{"expression":{"type":"string","description":"Math
        expression to evaluate"}},"required":["expression"],"additionalProperties":false,"strict":true},"strict":true}],"previous_response_id":"resp_fc_multi_1"}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <OPENAI_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sat, 03 Jan 2026 19:11:01 GMT
      Content-Type:
      - application/json
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "resp_fc_multi_2",
          "object": "response",
          "created_at": 1767467461,
          "status": "completed",
          "model": "gpt-4o-mini-2024-07-18",
          "output": [
            {
              "id": "msg_fc_multi_final",
              "type": "message",
              "status": "completed",
              "content": [
                {
                  "type": "output_text",
                  "text": "The weather in Paris is sunny with a temperature of 72°F. And 15 multiplied by 7 equals 105."
                }
              ],
              "role": "assistant"
            }
          ],
          "previous_response_id": "resp_fc_multi_1",
          "usage": {
            "input_tokens": 80,
            "input_tokens_details": { "cached_tokens": 50 },
            "output_tokens": 25,
            "total_tokens": 105
          }
        }
  recorded_at: Sat, 03 Jan 2026 19:11:01 GMT
recorded_with: VCR 6.4.0
